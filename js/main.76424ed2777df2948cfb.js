!function(e,n){if("object"==typeof exports&&"object"==typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var c=n();for(var t in c)("object"==typeof exports?exports:e)[t]=c[t]}}(self,(()=>(()=>{"use strict";var __webpack_modules__={877:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/events/events.js\nvar events = __webpack_require__(187);\n;// CONCATENATED MODULE: ./src/js/Preloader.js\n\n\nclass Preloader extends (/* unused pure expression or super */ null && (EventEmitter)) {\n  constructor() {\n    super();\n    this.asstes = new App();\n    this.asstes.on(\"assetsready\", () => {\n      const preloader = document.getElementById('preloader');\n      setTimeout(() => {\n        preloader.classList.add('loaded');\n        console.log(\"assetsready\");\n      }, 1000);\n    });\n  }\n}\n// EXTERNAL MODULE: ./node_modules/three/build/three.module.js\nvar three_module = __webpack_require__(477);\n// EXTERNAL MODULE: ./node_modules/normalize-wheel/index.js\nvar normalize_wheel = __webpack_require__(796);\nvar normalize_wheel_default = /*#__PURE__*/__webpack_require__.n(normalize_wheel);\n;// CONCATENATED MODULE: ./src/static/shaders/vertex.glsl\n/* harmony default export */ const vertex = (\"#define PI 3.1415926535897932384626433832795\\n \\nprecision highp float;\\nprecision highp int;\\n#define GLSLIFY 1\\n\\nuniform float uStrength;\\nuniform vec2 uViewportSizes;\\n \\nvarying vec2 vUv;\\n \\nvoid main() {\\n  vec4 newPosition = modelViewMatrix * vec4(position, 1.0);\\n \\n  newPosition.z += sin(newPosition.y / uViewportSizes.y * PI + PI / 2.0) * -uStrength;\\n \\n  vUv = uv;\\n \\n  gl_Position = projectionMatrix * newPosition;\\n}\");\n;// CONCATENATED MODULE: ./src/static/shaders/fragment.glsl\n/* harmony default export */ const fragment = (\"precision highp float;\\n#define GLSLIFY 1\\n \\nuniform vec2 uImageSizes;\\nuniform vec2 uPlaneSizes;\\nuniform sampler2D tMap;\\n \\nvarying vec2 vUv;\\n \\nvoid main() {\\n  vec2 ratio = vec2(\\n    min((uPlaneSizes.x / uPlaneSizes.y) / (uImageSizes.x / uImageSizes.y), 1.0),\\n    min((uPlaneSizes.y / uPlaneSizes.x) / (uImageSizes.y / uImageSizes.x), 1.0)\\n  );\\n\\n  vec2 uv = vec2(\\n    vUv.x * ratio.x + (1.0 - ratio.x) * 0.5,\\n    vUv.y * ratio.y + (1.0 - ratio.y) * 0.5\\n  );\\n\\n  gl_FragColor.rgb = texture2D(tMap, uv).rgb;\\n  gl_FragColor.a = 1.0;\\n}\");\n;// CONCATENATED MODULE: ./src/js/Media.js\n\n\n\n\nclass Media extends events.EventEmitter {\n  constructor({\n    element,\n    geometry,\n    renderer,\n    height,\n    scene,\n    screen,\n    viewport\n  }) {\n    super();\n    this.extra = 0;\n    this.element = element;\n    this.image = this.element.querySelector('img');\n    this.geometry = geometry;\n    this.renderer = renderer;\n    this.scene = scene;\n    this.screen = screen;\n    this.height = height;\n    this.viewport = viewport;\n    this.createMesh();\n    this.createBounds();\n    this.onResize();\n  }\n  createMesh() {\n    const textureLoader = new three_module/* TextureLoader */.dpR();\n    const texture = new three_module/* Texture */.xEZ();\n    // const texture = textureLoader.load(this.image.src);\n\n    const image = new Image();\n    image.src = this.image.src;\n    image.onload = () => {\n      this.material.uniforms.uImageSizes.value = [image.naturalWidth, image.naturalHeight];\n      texture.image = image;\n      texture.needsUpdate = true;\n    };\n    this.material = new three_module/* ShaderMaterial */.jyz({\n      vertexShader: vertex,\n      fragmentShader: fragment,\n      uniforms: {\n        tMap: {\n          value: texture\n        },\n        uPlaneSizes: {\n          value: [0, 0]\n        },\n        uImageSizes: {\n          value: [0, 0]\n        },\n        uViewportSizes: {\n          value: [this.viewport.width, this.viewport.height]\n        },\n        uStrength: {\n          value: 0\n        }\n      },\n      transparent: true\n    });\n    this.mesh = new three_module/* Mesh */.Kj0(this.geometry, this.material);\n    this.scene.add(this.mesh);\n  }\n  createBounds() {\n    this.bounds = this.element.getBoundingClientRect();\n    this.updateScale();\n    this.updateX();\n    this.updateY();\n    this.material.uniforms.uPlaneSizes.value = [this.mesh.scale.x, this.mesh.scale.y];\n  }\n  updateScale() {\n    this.mesh.scale.x = this.viewport.width * this.bounds.width / this.screen.width;\n    this.mesh.scale.y = this.viewport.height * this.bounds.height / this.screen.height;\n  }\n  updateX(x = 0) {\n    this.mesh.position.x = -(this.viewport.width / 2) + this.mesh.scale.x / 2 + (this.bounds.left - x) / this.screen.width * this.viewport.width;\n  }\n  updateY(y = 0) {\n    this.mesh.position.y = this.viewport.height / 2 - this.mesh.scale.y / 2 - (this.bounds.top - y) / this.screen.height * this.viewport.height - this.extra;\n  }\n  update(y, direction) {\n    this.updateScale();\n    this.updateX();\n    this.updateY(y.current);\n    this.material.uniforms.uStrength.value = (y.current - y.last) / this.screen.width * 10;\n    const meshOffset = this.mesh.scale.y / 2;\n    const viewportOffset = this.viewport.height / 2;\n    this.isBefore = this.mesh.position.y + meshOffset < -viewportOffset;\n    this.isAfter = this.mesh.position.y - meshOffset > viewportOffset;\n    if (direction === 'up' && this.isBefore) {\n      this.extra -= this.height;\n      this.isBefore = false;\n      this.isAfter = false;\n    }\n    if (direction === 'down' && this.isAfter) {\n      this.extra += this.height;\n      this.isBefore = false;\n      this.isAfter = false;\n    }\n  }\n  onResize(sizes) {\n    this.extra = 0;\n    if (sizes) {\n      const {\n        height,\n        screen,\n        viewport\n      } = sizes;\n      if (height) this.height = height;\n      if (screen) this.screen = screen;\n      if (viewport) {\n        this.viewport = viewport;\n        this.material.uniforms.uViewportSizes.value = [this.viewport.width, this.viewport.height];\n      }\n    }\n    this.createBounds();\n  }\n}\n;// CONCATENATED MODULE: ./src/js/utils/math.js\nfunction lerp(p1, p2, t) {\n  return p1 + (p2 - p1) * t;\n}\n// EXTERNAL MODULE: ./node_modules/three/examples/jsm/postprocessing/EffectComposer.js + 2 modules\nvar EffectComposer = __webpack_require__(684);\n// EXTERNAL MODULE: ./node_modules/three/examples/jsm/postprocessing/RenderPass.js\nvar RenderPass = __webpack_require__(458);\n// EXTERNAL MODULE: ./node_modules/three/examples/jsm/postprocessing/ShaderPass.js\nvar ShaderPass = __webpack_require__(531);\n;// CONCATENATED MODULE: ./src/static/shaders/vertexPost.glsl\n/* harmony default export */ const vertexPost = (\"#define GLSLIFY 1\\n// varying vec2 vUv;\\n\\n// void main() {\\n//   vUv = uv;\\n//   gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\\n// }\\n\\nvarying vec3 worldNormal;\\nvarying vec3 eyeVector;\\n\\nvoid main() {\\n  vec4 worldPos = modelMatrix * vec4(position, 1.0);\\n  vec4 mvPosition = viewMatrix * worldPos;\\n\\n  gl_Position = projectionMatrix * mvPosition;\\n\\n  vec3 transformedNormal = normalMatrix * normal;\\n  worldNormal = normalize(transformedNormal);\\n\\n  eyeVector = normalize(worldPos.xyz - cameraPosition);\\n}\\n\");\n;// CONCATENATED MODULE: ./src/static/shaders/fragmentPost.glsl\n/* harmony default export */ const fragmentPost = (\"#define GLSLIFY 1\\nuniform float uIorR;\\nuniform float uIorY;\\nuniform float uIorG;\\nuniform float uIorC;\\nuniform float uIorB;\\nuniform float uIorP;\\n\\nuniform float uSaturation;\\nuniform float uChromaticAberration;\\nuniform float uRefractPower;\\nuniform float uShininess;\\nuniform float uDiffuseness;\\nuniform vec3 uLight;\\nuniform float uFadeStrength;\\n\\nuniform vec2 winResolution;\\nuniform sampler2D uTexture;\\n\\nvarying vec3 worldNormal;\\nvarying vec3 eyeVector;\\n\\nvec3 sat(vec3 rgb, float adjustment) {\\n  const vec3 W = vec3(0.2125, 0.7154, 0.0721);\\n  vec3 intensity = vec3(dot(rgb, W));\\n  return mix(intensity, rgb, adjustment);\\n}\\n\\nfloat specular(vec3 light, float shininess, float diffuseness) {\\n  vec3 normal = worldNormal;\\n  vec3 lightVector = normalize(-light);\\n  vec3 halfVector = normalize(eyeVector + lightVector);\\n\\n  float NdotL = dot(normal, lightVector);\\n  float NdotH =  dot(normal, halfVector);\\n  float kDiffuse = max(0.0, NdotL);\\n  float NdotH2 = NdotH * NdotH;\\n\\n  float kSpecular = pow(NdotH2, shininess);\\n  return  kSpecular + kDiffuse * diffuseness;\\n}\\n\\nconst int LOOP = 16;\\n\\nvoid main() {\\n  float iorRatioRed = 1.0/uIorR;\\n  float iorRatioGreen = 1.0/uIorG;\\n  float iorRatioBlue = 1.0/uIorB;\\n\\n  vec2 uv = gl_FragCoord.xy / winResolution.xy;\\n  vec3 normal = worldNormal;\\n  vec3 color = vec3(0.0);\\n\\n  // Обратное затухание: эффект на краях и затухает к центру\\n  float fade = smoothstep(0.5 - uFadeStrength, 0.5 + uFadeStrength, abs(uv.y - 0.5) * 2.0);\\n\\n  \\n\\n  for ( int i = 0; i < LOOP; i ++ ) {\\n    float slide = float(i) / float(LOOP) * 0.1;\\n\\n    vec3 refractVecR = refract(eyeVector, normal, (1.0/uIorR));\\n    vec3 refractVecY = refract(eyeVector, normal, (1.0/uIorY));\\n    vec3 refractVecG = refract(eyeVector, normal, (1.0/uIorG));\\n    vec3 refractVecC = refract(eyeVector, normal, (1.0/uIorC));\\n    vec3 refractVecB = refract(eyeVector, normal, (1.0/uIorB));\\n    vec3 refractVecP = refract(eyeVector, normal, (1.0/uIorP));\\n\\n    float r = texture2D(uTexture, uv + refractVecR.xy * (uRefractPower + slide * 1.0) * uChromaticAberration).x * 0.5;\\n\\n    float y = (texture2D(uTexture, uv + refractVecY.xy * (uRefractPower + slide * 1.0) * uChromaticAberration).x * 2.0 +\\n                texture2D(uTexture, uv + refractVecY.xy * (uRefractPower + slide * 1.0) * uChromaticAberration).y * 2.0 -\\n                texture2D(uTexture, uv + refractVecY.xy * (uRefractPower + slide * 1.0) * uChromaticAberration).z) / 6.0;\\n\\n    float g = texture2D(uTexture, uv + refractVecG.xy * (uRefractPower + slide * 2.0) * uChromaticAberration).y * 0.5;\\n\\n    float c = (texture2D(uTexture, uv + refractVecC.xy * (uRefractPower + slide * 2.5) * uChromaticAberration).y * 2.0 +\\n                texture2D(uTexture, uv + refractVecC.xy * (uRefractPower + slide * 2.5) * uChromaticAberration).z * 2.0 -\\n                texture2D(uTexture, uv + refractVecC.xy * (uRefractPower + slide * 2.5) * uChromaticAberration).x) / 6.0;\\n          \\n    float b = texture2D(uTexture, uv + refractVecB.xy * (uRefractPower + slide * 3.0) * uChromaticAberration).z * 0.5;\\n\\n    float p = (texture2D(uTexture, uv + refractVecP.xy * (uRefractPower + slide * 1.0) * uChromaticAberration).z * 2.0 +\\n                texture2D(uTexture, uv + refractVecP.xy * (uRefractPower + slide * 1.0) * uChromaticAberration).x * 2.0 -\\n                texture2D(uTexture, uv + refractVecP.xy * (uRefractPower + slide * 1.0) * uChromaticAberration).y) / 6.0;\\n\\n    float R = r + (2.0*p + 2.0*y - c)/3.0;\\n    float G = g + (2.0*y + 2.0*c - p)/3.0;\\n    float B = b + (2.0*c + 2.0*p - y)/3.0;\\n\\n    color.r += R;\\n    color.g += G;\\n    color.b += B;\\n\\n    color = sat(color, uSaturation);\\n  }\\n\\n  color /= float( LOOP );\\n\\n  float specularLight = specular(uLight, uShininess, uDiffuseness);\\n  color += specularLight;\\n\\n  color = mix(vec3(1.0), color, 1.); // Применяем градиентное затухание\\n\\n  gl_FragColor = vec4(color, 1.0);\\n}\\n\");\n;// CONCATENATED MODULE: ./src/js/App.js\n\n\n\n\n\n\n\n\n\n\n\nclass App_App extends events.EventEmitter {\n  static instance;\n  constructor(options) {\n    super();\n    if (App_App.instance) {\n      return App_App.instance;\n    }\n    App_App.instance = this;\n    this.scroll = {\n      ease: 0.05,\n      current: 0,\n      target: 0,\n      last: 0\n    };\n    this.speed = 2;\n    this.container = options.dom;\n    this.createRenderer();\n    this.createCamera();\n    this.createScene();\n    this.createGeometry();\n    this.createGallery();\n    this.onResize();\n    this.createPostProcessing();\n    this.createMedias();\n    this.addEventListeners();\n\n    // this.preloader = new Preloader()\n    // this.emit(\"assetsready\");\n    this.update();\n  }\n  createRenderer() {\n    this.renderer = new three_module/* WebGLRenderer */.CP7({\n      antialias: true,\n      alpha: true,\n      canvas: this.container\n    });\n    this.renderer.setClearColor(0xeeeeee, 1);\n    // this.renderer.setClearColor(0x0f0f0f, 1); \n\n    if (!this.container.contains(this.renderer.domElement)) {\n      this.container.appendChild(this.renderer.domElement);\n    }\n  }\n  createCamera() {\n    this.camera = new three_module/* PerspectiveCamera */.cPb(45, window.innerWidth / window.innerHeight, 0.001, 1000);\n    this.camera.position.z = 5;\n  }\n  createScene() {\n    this.scene = new three_module/* Scene */.xsS();\n  }\n  createGeometry() {\n    this.planeGeometry = new three_module/* PlaneGeometry */._12(1, 1, 32, 32);\n  }\n  createMedias() {\n    this.mediasElements = document.querySelectorAll('.demo-1__gallery__figure');\n    this.medias = Array.from(this.mediasElements).map(element => {\n      let media = new Media({\n        element,\n        geometry: this.planeGeometry,\n        renderer: this.renderer,\n        height: this.galleryHeight,\n        scene: this.scene,\n        screen: this.screen,\n        viewport: this.viewport\n      });\n      return media;\n    });\n  }\n  createGallery() {\n    this.gallery = document.querySelector('.demo-1__gallery');\n  }\n  createPostProcessing() {\n    this.composer = new EffectComposer/* EffectComposer */.x(this.renderer);\n    this.renderScene = new RenderPass/* RenderPass */.C(this.scene, this.camera);\n    this.composer.addPass(this.renderScene);\n    this.customShaderPass = new ShaderPass/* ShaderPass */.T({\n      uniforms: {\n        uIorR: {\n          value: 1.0\n        },\n        uIorY: {\n          value: 1.0\n        },\n        uIorG: {\n          value: 1.0\n        },\n        uIorC: {\n          value: 1.0\n        },\n        uIorB: {\n          value: 1.0\n        },\n        uIorP: {\n          value: 1.0\n        },\n        uSaturation: {\n          value: 1.0\n        },\n        uChromaticAberration: {\n          value: 0.06\n        },\n        uRefractPower: {\n          value: 0.06\n        },\n        uShininess: {\n          value: 30.0\n        },\n        uDiffuseness: {\n          value: 1.0\n        },\n        uLight: {\n          value: new three_module/* Vector3 */.Pa4(1.0, 1.0, 1.0)\n        },\n        winResolution: {\n          value: new three_module/* Vector2 */.FM8(window.innerWidth, window.innerHeight)\n        },\n        uTexture: {\n          value: null\n        },\n        uFadeStrength: {\n          value: 0.9\n        }\n      },\n      vertexShader: vertexPost,\n      fragmentShader: fragmentPost\n    });\n    this.customShaderPass.uniforms.uTexture.value = this.composer.readBuffer.texture;\n    this.composer.addPass(this.customShaderPass);\n  }\n  onWheel(event) {\n    const normalized = normalize_wheel_default()(event);\n    const speed = normalized.pixelY;\n    this.scroll.target += speed * 0.5;\n  }\n  onTouchDown(event) {\n    this.isDown = true;\n    this.scroll.position = this.scroll.current;\n    this.start = event.touches ? event.touches[0].clientY : event.clientY;\n  }\n  onTouchMove(event) {\n    if (!this.isDown) return;\n    const y = event.touches ? event.touches[0].clientY : event.clientY;\n    const distance = (this.start - y) * 2;\n    this.scroll.target = this.scroll.position + distance;\n  }\n  onTouchUp(event) {\n    this.isDown = false;\n  }\n  onResize() {\n    this.screen = {\n      height: window.innerHeight,\n      width: window.innerWidth\n    };\n    this.renderer.setSize(this.screen.width, this.screen.height);\n    this.camera.aspect = this.screen.width / this.screen.height;\n    this.camera.updateProjectionMatrix();\n    const fov = this.camera.fov * (Math.PI / 180);\n    const height = 2 * Math.tan(fov / 2) * this.camera.position.z;\n    const width = height * this.camera.aspect;\n    this.viewport = {\n      height,\n      width\n    };\n    this.galleryBounds = this.gallery.getBoundingClientRect();\n    this.galleryHeight = this.viewport.height * this.galleryBounds.height / this.screen.height;\n    if (this.medias) {\n      this.medias.forEach(media => media.onResize({\n        height: this.galleryHeight,\n        screen: this.screen,\n        viewport: this.viewport\n      }));\n    }\n  }\n  update() {\n    this.scroll.target += this.speed;\n    this.scroll.current = lerp(this.scroll.current, this.scroll.target, this.scroll.ease);\n    if (this.scroll.current > this.scroll.last) {\n      this.direction = 'down';\n      this.speed = 2;\n    } else if (this.scroll.current < this.scroll.last) {\n      this.direction = 'up';\n      this.speed = -2;\n    }\n    if (this.medias) {\n      this.medias.forEach(media => media.update(this.scroll, this.direction));\n    }\n    if (this.customShaderPass && this.customShaderPass.uniforms) {\n      this.customShaderPass.uniforms.uTexture.value = this.composer.readBuffer.texture;\n      this.customShaderPass.uniforms.uChromaticAberration.value = Math.abs(this.scroll.current - this.scroll.last) * 0.01;\n    }\n    this.composer.render(this.scene, this.camera);\n    this.scroll.last = this.scroll.current;\n    window.requestAnimationFrame(this.update.bind(this));\n  }\n  addEventListeners() {\n    window.addEventListener('resize', this.onResize.bind(this));\n    window.addEventListener('wheel', this.onWheel.bind(this));\n    window.addEventListener('mousedown', this.onTouchDown.bind(this));\n    window.addEventListener('mousemove', this.onTouchMove.bind(this));\n    window.addEventListener('mouseup', this.onTouchUp.bind(this));\n    window.addEventListener('touchstart', this.onTouchDown.bind(this));\n    window.addEventListener('touchmove', this.onTouchMove.bind(this));\n    window.addEventListener('touchend', this.onTouchUp.bind(this));\n  }\n}\n;// CONCATENATED MODULE: ./src/js/index.js\n\n\n// import './analytics';\n\nwindow.addEventListener('DOMContentLoaded', () => {\n  new App_App({\n    dom: document.querySelector('canvas.experience-canvas')\n  });\n  const fixedHeader = () => {\n    window.addEventListener('scroll', () => {\n      const scroll = window.pageYOffset || document.documentElement.scrollTop;\n      document.querySelector('.header-fixed').classList.toggle('active', scroll >= 700);\n    });\n  };\n  const setupMediaQueries = () => {\n    const mm = gsap.matchMedia();\n    const breakPoint = 991;\n    mm.add({\n      isMobile: `(max-width: ${breakPoint}px)`,\n      isDesktop: `(min-width: ${breakPoint + 1}px)`\n    }, context => {\n      const {\n        isMobile,\n        isDesktop\n      } = context.conditions;\n      if (isDesktop) setupDesktopFeatures();\n      if (isMobile) setupMobileFeatures();\n    });\n  };\n  const setupDesktopFeatures = () => {\n    // const smoother = ScrollSmoother.create({\n    //   wrapper: \"#smooth-wrapper\",\n    //   content: \"#smooth-content\",\n    //   smooth: 3,\n    //   smoothTouch: 1.5,\n    //   ignoreMobileResize: true,\n    //   touchScrollType: \"normal\",\n    //   effects: true,\n    //   normalizeScroll: true\n    // });\n  };\n  const setupMobileFeatures = () => {};\n  const updateYear = () => {\n    const yearNode = document.querySelector('.year');\n    yearNode.innerHTML = new Date().getFullYear();\n  };\n\n  // fixedHeader();\n  setupMediaQueries();\n  // updateYear();\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODc3LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQ2hCQTs7QUNBQTs7QUNBQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7QUM1SEE7QUFDQTtBQUNBOzs7Ozs7OztBQ0ZBOztBQ0FBOztBQ0FBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBTUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdE9BO0FBQ0E7QUFDQTs7QUFFQTtBQUVBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQU9BO0FBTUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvUHJlbG9hZGVyLmpzPzU5OGEiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0YXRpYy9zaGFkZXJzL3ZlcnRleC5nbHNsPzljMGEiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0YXRpYy9zaGFkZXJzL2ZyYWdtZW50Lmdsc2w/OWViYSIsIndlYnBhY2s6Ly8vLi9zcmMvanMvTWVkaWEuanM/NDlmZCIsIndlYnBhY2s6Ly8vLi9zcmMvanMvdXRpbHMvbWF0aC5qcz9kMWZhIiwid2VicGFjazovLy8uL3NyYy9zdGF0aWMvc2hhZGVycy92ZXJ0ZXhQb3N0Lmdsc2w/ODYyMCIsIndlYnBhY2s6Ly8vLi9zcmMvc3RhdGljL3NoYWRlcnMvZnJhZ21lbnRQb3N0Lmdsc2w/ZmUyOCIsIndlYnBhY2s6Ly8vLi9zcmMvanMvQXBwLmpzP2ZhYjYiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2luZGV4LmpzPzdiYTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSAnZXZlbnRzJztcbmltcG9ydCBBcHAgZnJvbSAnLi9BcHAnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByZWxvYWRlciBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5hc3N0ZXMgPSBuZXcgQXBwKClcblxuICAgIHRoaXMuYXNzdGVzLm9uKFwiYXNzZXRzcmVhZHlcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgcHJlbG9hZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByZWxvYWRlcicpXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgcHJlbG9hZGVyLmNsYXNzTGlzdC5hZGQoJ2xvYWRlZCcpXG4gICAgICAgIGNvbnNvbGUubG9nKFwiYXNzZXRzcmVhZHlcIilcbiAgICAgIH0sIDEwMDApXG4gICAgfSlcbiAgfVxufSIsImV4cG9ydCBkZWZhdWx0IFwiI2RlZmluZSBQSSAzLjE0MTU5MjY1MzU4OTc5MzIzODQ2MjY0MzM4MzI3OTVcXG4gXFxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbnByZWNpc2lvbiBoaWdocCBpbnQ7XFxuI2RlZmluZSBHTFNMSUZZIDFcXG5cXG51bmlmb3JtIGZsb2F0IHVTdHJlbmd0aDtcXG51bmlmb3JtIHZlYzIgdVZpZXdwb3J0U2l6ZXM7XFxuIFxcbnZhcnlpbmcgdmVjMiB2VXY7XFxuIFxcbnZvaWQgbWFpbigpIHtcXG4gIHZlYzQgbmV3UG9zaXRpb24gPSBtb2RlbFZpZXdNYXRyaXggKiB2ZWM0KHBvc2l0aW9uLCAxLjApO1xcbiBcXG4gIG5ld1Bvc2l0aW9uLnogKz0gc2luKG5ld1Bvc2l0aW9uLnkgLyB1Vmlld3BvcnRTaXplcy55ICogUEkgKyBQSSAvIDIuMCkgKiAtdVN0cmVuZ3RoO1xcbiBcXG4gIHZVdiA9IHV2O1xcbiBcXG4gIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIG5ld1Bvc2l0aW9uO1xcbn1cIjsiLCJleHBvcnQgZGVmYXVsdCBcInByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4jZGVmaW5lIEdMU0xJRlkgMVxcbiBcXG51bmlmb3JtIHZlYzIgdUltYWdlU2l6ZXM7XFxudW5pZm9ybSB2ZWMyIHVQbGFuZVNpemVzO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHRNYXA7XFxuIFxcbnZhcnlpbmcgdmVjMiB2VXY7XFxuIFxcbnZvaWQgbWFpbigpIHtcXG4gIHZlYzIgcmF0aW8gPSB2ZWMyKFxcbiAgICBtaW4oKHVQbGFuZVNpemVzLnggLyB1UGxhbmVTaXplcy55KSAvICh1SW1hZ2VTaXplcy54IC8gdUltYWdlU2l6ZXMueSksIDEuMCksXFxuICAgIG1pbigodVBsYW5lU2l6ZXMueSAvIHVQbGFuZVNpemVzLngpIC8gKHVJbWFnZVNpemVzLnkgLyB1SW1hZ2VTaXplcy54KSwgMS4wKVxcbiAgKTtcXG5cXG4gIHZlYzIgdXYgPSB2ZWMyKFxcbiAgICB2VXYueCAqIHJhdGlvLnggKyAoMS4wIC0gcmF0aW8ueCkgKiAwLjUsXFxuICAgIHZVdi55ICogcmF0aW8ueSArICgxLjAgLSByYXRpby55KSAqIDAuNVxcbiAgKTtcXG5cXG4gIGdsX0ZyYWdDb2xvci5yZ2IgPSB0ZXh0dXJlMkQodE1hcCwgdXYpLnJnYjtcXG4gIGdsX0ZyYWdDb2xvci5hID0gMS4wO1xcbn1cIjsiLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSdcbmltcG9ydCB7IEV2ZW50RW1pdHRlciB9IGZyb20gJ2V2ZW50cyc7XG5cbmltcG9ydCB2ZXJ0ZXggZnJvbSAnLi4vc3RhdGljL3NoYWRlcnMvdmVydGV4Lmdsc2wnO1xuaW1wb3J0IGZyYWdtZW50IGZyb20gJy4uL3N0YXRpYy9zaGFkZXJzL2ZyYWdtZW50Lmdsc2wnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNZWRpYSBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG4gIGNvbnN0cnVjdG9yKHsgZWxlbWVudCwgZ2VvbWV0cnksIHJlbmRlcmVyLCBoZWlnaHQsIHNjZW5lLCBzY3JlZW4sIHZpZXdwb3J0IH0pIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuZXh0cmEgPSAwO1xuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy5pbWFnZSA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdpbWcnKTtcblxuICAgIHRoaXMuZ2VvbWV0cnkgPSBnZW9tZXRyeTtcbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xuICAgIHRoaXMuc2NyZWVuID0gc2NyZWVuO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIHRoaXMudmlld3BvcnQgPSB2aWV3cG9ydDtcblxuICAgIHRoaXMuY3JlYXRlTWVzaCgpO1xuICAgIHRoaXMuY3JlYXRlQm91bmRzKCk7XG5cbiAgICB0aGlzLm9uUmVzaXplKCk7XG4gIH1cblxuICBjcmVhdGVNZXNoKCkge1xuICAgIGNvbnN0IHRleHR1cmVMb2FkZXIgPSBuZXcgVEhSRUUuVGV4dHVyZUxvYWRlcigpO1xuICAgIGNvbnN0IHRleHR1cmUgPSBuZXcgVEhSRUUuVGV4dHVyZSgpO1xuICAgIC8vIGNvbnN0IHRleHR1cmUgPSB0ZXh0dXJlTG9hZGVyLmxvYWQodGhpcy5pbWFnZS5zcmMpO1xuXG4gICAgY29uc3QgaW1hZ2UgPSBuZXcgSW1hZ2UoKVxuICAgIGltYWdlLnNyYyA9IHRoaXMuaW1hZ2Uuc3JjO1xuXG4gICAgaW1hZ2Uub25sb2FkID0gKCkgPT4ge1xuICAgICAgdGhpcy5tYXRlcmlhbC51bmlmb3Jtcy51SW1hZ2VTaXplcy52YWx1ZSA9IFtpbWFnZS5uYXR1cmFsV2lkdGgsIGltYWdlLm5hdHVyYWxIZWlnaHRdO1xuICAgICAgdGV4dHVyZS5pbWFnZSA9IGltYWdlO1xuICAgICAgdGV4dHVyZS5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgfVxuXG4gICAgdGhpcy5tYXRlcmlhbCA9IG5ldyBUSFJFRS5TaGFkZXJNYXRlcmlhbCh7XG4gICAgICB2ZXJ0ZXhTaGFkZXI6IHZlcnRleCxcbiAgICAgIGZyYWdtZW50U2hhZGVyOiBmcmFnbWVudCxcbiAgICAgIHVuaWZvcm1zOiB7XG4gICAgICAgIHRNYXA6IHsgdmFsdWU6IHRleHR1cmUgfSxcbiAgICAgICAgdVBsYW5lU2l6ZXM6IHsgdmFsdWU6IFswLCAwXSB9LFxuICAgICAgICB1SW1hZ2VTaXplczogeyB2YWx1ZTogWzAsIDBdIH0sXG4gICAgICAgIHVWaWV3cG9ydFNpemVzOiB7IHZhbHVlOiBbdGhpcy52aWV3cG9ydC53aWR0aCwgdGhpcy52aWV3cG9ydC5oZWlnaHRdIH0sXG4gICAgICAgIHVTdHJlbmd0aDogeyB2YWx1ZTogMCB9XG4gICAgICB9LFxuICAgICAgdHJhbnNwYXJlbnQ6IHRydWVcbiAgICB9KVxuXG4gICAgdGhpcy5tZXNoID0gbmV3IFRIUkVFLk1lc2godGhpcy5nZW9tZXRyeSwgdGhpcy5tYXRlcmlhbCk7XG4gICAgdGhpcy5zY2VuZS5hZGQodGhpcy5tZXNoKTtcbiAgfVxuXG4gIGNyZWF0ZUJvdW5kcygpIHtcbiAgICB0aGlzLmJvdW5kcyA9IHRoaXMuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgXG4gICAgdGhpcy51cGRhdGVTY2FsZSgpO1xuICAgIHRoaXMudXBkYXRlWCgpO1xuICAgIHRoaXMudXBkYXRlWSgpO1xuXG4gICAgdGhpcy5tYXRlcmlhbC51bmlmb3Jtcy51UGxhbmVTaXplcy52YWx1ZSA9IFt0aGlzLm1lc2guc2NhbGUueCwgdGhpcy5tZXNoLnNjYWxlLnldO1xuICB9XG4gIFxuICB1cGRhdGVTY2FsZSgpIHtcbiAgICB0aGlzLm1lc2guc2NhbGUueCA9IHRoaXMudmlld3BvcnQud2lkdGggKiB0aGlzLmJvdW5kcy53aWR0aCAvIHRoaXMuc2NyZWVuLndpZHRoO1xuICAgIHRoaXMubWVzaC5zY2FsZS55ID0gdGhpcy52aWV3cG9ydC5oZWlnaHQgKiB0aGlzLmJvdW5kcy5oZWlnaHQgLyB0aGlzLnNjcmVlbi5oZWlnaHQ7XG4gIH1cbiAgXG4gIHVwZGF0ZVgoeCA9IDApIHtcbiAgICB0aGlzLm1lc2gucG9zaXRpb24ueCA9IC0odGhpcy52aWV3cG9ydC53aWR0aCAvIDIpICsgKHRoaXMubWVzaC5zY2FsZS54IC8gMikgKyAoKHRoaXMuYm91bmRzLmxlZnQgLSB4KSAvIHRoaXMuc2NyZWVuLndpZHRoKSAqIHRoaXMudmlld3BvcnQud2lkdGg7XG4gIH1cbiAgXG4gIHVwZGF0ZVkoeSA9IDApIHtcbiAgICB0aGlzLm1lc2gucG9zaXRpb24ueSA9ICgodGhpcy52aWV3cG9ydC5oZWlnaHQgLyAyKSAtICh0aGlzLm1lc2guc2NhbGUueSAvIDIpIC0gKCh0aGlzLmJvdW5kcy50b3AgLSB5KSAvIHRoaXMuc2NyZWVuLmhlaWdodCkgKiB0aGlzLnZpZXdwb3J0LmhlaWdodCkgLSB0aGlzLmV4dHJhXG4gIH1cbiAgXG4gIHVwZGF0ZSh5LCBkaXJlY3Rpb24pIHtcbiAgICB0aGlzLnVwZGF0ZVNjYWxlKCk7XG4gICAgdGhpcy51cGRhdGVYKCk7XG4gICAgdGhpcy51cGRhdGVZKHkuY3VycmVudCk7XG5cbiAgICB0aGlzLm1hdGVyaWFsLnVuaWZvcm1zLnVTdHJlbmd0aC52YWx1ZSA9ICgoeS5jdXJyZW50IC0geS5sYXN0KSAvIHRoaXMuc2NyZWVuLndpZHRoKSAqIDEwXG5cbiAgICBjb25zdCBtZXNoT2Zmc2V0ID0gdGhpcy5tZXNoLnNjYWxlLnkgLyAyXG4gICAgY29uc3Qgdmlld3BvcnRPZmZzZXQgPSB0aGlzLnZpZXdwb3J0LmhlaWdodCAvIDJcbiAgICBcbiAgICB0aGlzLmlzQmVmb3JlID0gdGhpcy5tZXNoLnBvc2l0aW9uLnkgKyBtZXNoT2Zmc2V0IDwgLXZpZXdwb3J0T2Zmc2V0XG4gICAgdGhpcy5pc0FmdGVyID0gdGhpcy5tZXNoLnBvc2l0aW9uLnkgLSBtZXNoT2Zmc2V0ID4gdmlld3BvcnRPZmZzZXRcbiAgICBcbiAgICBpZiAoZGlyZWN0aW9uID09PSAndXAnICYmIHRoaXMuaXNCZWZvcmUpIHtcbiAgICAgIHRoaXMuZXh0cmEgLT0gdGhpcy5oZWlnaHRcbiAgICBcbiAgICAgIHRoaXMuaXNCZWZvcmUgPSBmYWxzZVxuICAgICAgdGhpcy5pc0FmdGVyID0gZmFsc2VcbiAgICB9XG4gICAgXG4gICAgaWYgKGRpcmVjdGlvbiA9PT0gJ2Rvd24nICYmIHRoaXMuaXNBZnRlcikge1xuICAgICAgdGhpcy5leHRyYSArPSB0aGlzLmhlaWdodFxuICAgIFxuICAgICAgdGhpcy5pc0JlZm9yZSA9IGZhbHNlXG4gICAgICB0aGlzLmlzQWZ0ZXIgPSBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIG9uUmVzaXplKHNpemVzKSB7XG4gICAgdGhpcy5leHRyYSA9IDBcbiAgICBpZiAoc2l6ZXMpIHtcbiAgICAgIGNvbnN0IHsgaGVpZ2h0LCBzY3JlZW4sIHZpZXdwb3J0IH0gPSBzaXplc1xuXG4gICAgICBpZiAoaGVpZ2h0KSB0aGlzLmhlaWdodCA9IGhlaWdodFxuICAgICAgaWYgKHNjcmVlbikgdGhpcy5zY3JlZW4gPSBzY3JlZW5cbiAgICAgIGlmICh2aWV3cG9ydCkge1xuICAgICAgICB0aGlzLnZpZXdwb3J0ID0gdmlld3BvcnRcblxuICAgICAgICB0aGlzLm1hdGVyaWFsLnVuaWZvcm1zLnVWaWV3cG9ydFNpemVzLnZhbHVlID0gW3RoaXMudmlld3BvcnQud2lkdGgsIHRoaXMudmlld3BvcnQuaGVpZ2h0XVxuICAgICAgfSBcbiAgICB9XG5cbiAgICB0aGlzLmNyZWF0ZUJvdW5kcygpXG4gIH1cbn0iLCJleHBvcnQgZnVuY3Rpb24gbGVycCAocDEsIHAyLCB0KSB7XG4gIHJldHVybiBwMSArIChwMiAtcDEpICogdFxufSIsImV4cG9ydCBkZWZhdWx0IFwiI2RlZmluZSBHTFNMSUZZIDFcXG4vLyB2YXJ5aW5nIHZlYzIgdlV2O1xcblxcbi8vIHZvaWQgbWFpbigpIHtcXG4vLyAgIHZVdiA9IHV2O1xcbi8vICAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogbW9kZWxWaWV3TWF0cml4ICogdmVjNChwb3NpdGlvbiwgMS4wKTtcXG4vLyB9XFxuXFxudmFyeWluZyB2ZWMzIHdvcmxkTm9ybWFsO1xcbnZhcnlpbmcgdmVjMyBleWVWZWN0b3I7XFxuXFxudm9pZCBtYWluKCkge1xcbiAgdmVjNCB3b3JsZFBvcyA9IG1vZGVsTWF0cml4ICogdmVjNChwb3NpdGlvbiwgMS4wKTtcXG4gIHZlYzQgbXZQb3NpdGlvbiA9IHZpZXdNYXRyaXggKiB3b3JsZFBvcztcXG5cXG4gIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIG12UG9zaXRpb247XFxuXFxuICB2ZWMzIHRyYW5zZm9ybWVkTm9ybWFsID0gbm9ybWFsTWF0cml4ICogbm9ybWFsO1xcbiAgd29ybGROb3JtYWwgPSBub3JtYWxpemUodHJhbnNmb3JtZWROb3JtYWwpO1xcblxcbiAgZXllVmVjdG9yID0gbm9ybWFsaXplKHdvcmxkUG9zLnh5eiAtIGNhbWVyYVBvc2l0aW9uKTtcXG59XFxuXCI7IiwiZXhwb3J0IGRlZmF1bHQgXCIjZGVmaW5lIEdMU0xJRlkgMVxcbnVuaWZvcm0gZmxvYXQgdUlvclI7XFxudW5pZm9ybSBmbG9hdCB1SW9yWTtcXG51bmlmb3JtIGZsb2F0IHVJb3JHO1xcbnVuaWZvcm0gZmxvYXQgdUlvckM7XFxudW5pZm9ybSBmbG9hdCB1SW9yQjtcXG51bmlmb3JtIGZsb2F0IHVJb3JQO1xcblxcbnVuaWZvcm0gZmxvYXQgdVNhdHVyYXRpb247XFxudW5pZm9ybSBmbG9hdCB1Q2hyb21hdGljQWJlcnJhdGlvbjtcXG51bmlmb3JtIGZsb2F0IHVSZWZyYWN0UG93ZXI7XFxudW5pZm9ybSBmbG9hdCB1U2hpbmluZXNzO1xcbnVuaWZvcm0gZmxvYXQgdURpZmZ1c2VuZXNzO1xcbnVuaWZvcm0gdmVjMyB1TGlnaHQ7XFxudW5pZm9ybSBmbG9hdCB1RmFkZVN0cmVuZ3RoO1xcblxcbnVuaWZvcm0gdmVjMiB3aW5SZXNvbHV0aW9uO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcblxcbnZhcnlpbmcgdmVjMyB3b3JsZE5vcm1hbDtcXG52YXJ5aW5nIHZlYzMgZXllVmVjdG9yO1xcblxcbnZlYzMgc2F0KHZlYzMgcmdiLCBmbG9hdCBhZGp1c3RtZW50KSB7XFxuICBjb25zdCB2ZWMzIFcgPSB2ZWMzKDAuMjEyNSwgMC43MTU0LCAwLjA3MjEpO1xcbiAgdmVjMyBpbnRlbnNpdHkgPSB2ZWMzKGRvdChyZ2IsIFcpKTtcXG4gIHJldHVybiBtaXgoaW50ZW5zaXR5LCByZ2IsIGFkanVzdG1lbnQpO1xcbn1cXG5cXG5mbG9hdCBzcGVjdWxhcih2ZWMzIGxpZ2h0LCBmbG9hdCBzaGluaW5lc3MsIGZsb2F0IGRpZmZ1c2VuZXNzKSB7XFxuICB2ZWMzIG5vcm1hbCA9IHdvcmxkTm9ybWFsO1xcbiAgdmVjMyBsaWdodFZlY3RvciA9IG5vcm1hbGl6ZSgtbGlnaHQpO1xcbiAgdmVjMyBoYWxmVmVjdG9yID0gbm9ybWFsaXplKGV5ZVZlY3RvciArIGxpZ2h0VmVjdG9yKTtcXG5cXG4gIGZsb2F0IE5kb3RMID0gZG90KG5vcm1hbCwgbGlnaHRWZWN0b3IpO1xcbiAgZmxvYXQgTmRvdEggPSAgZG90KG5vcm1hbCwgaGFsZlZlY3Rvcik7XFxuICBmbG9hdCBrRGlmZnVzZSA9IG1heCgwLjAsIE5kb3RMKTtcXG4gIGZsb2F0IE5kb3RIMiA9IE5kb3RIICogTmRvdEg7XFxuXFxuICBmbG9hdCBrU3BlY3VsYXIgPSBwb3coTmRvdEgyLCBzaGluaW5lc3MpO1xcbiAgcmV0dXJuICBrU3BlY3VsYXIgKyBrRGlmZnVzZSAqIGRpZmZ1c2VuZXNzO1xcbn1cXG5cXG5jb25zdCBpbnQgTE9PUCA9IDE2O1xcblxcbnZvaWQgbWFpbigpIHtcXG4gIGZsb2F0IGlvclJhdGlvUmVkID0gMS4wL3VJb3JSO1xcbiAgZmxvYXQgaW9yUmF0aW9HcmVlbiA9IDEuMC91SW9yRztcXG4gIGZsb2F0IGlvclJhdGlvQmx1ZSA9IDEuMC91SW9yQjtcXG5cXG4gIHZlYzIgdXYgPSBnbF9GcmFnQ29vcmQueHkgLyB3aW5SZXNvbHV0aW9uLnh5O1xcbiAgdmVjMyBub3JtYWwgPSB3b3JsZE5vcm1hbDtcXG4gIHZlYzMgY29sb3IgPSB2ZWMzKDAuMCk7XFxuXFxuICAvLyDQntCx0YDQsNGC0L3QvtC1INC30LDRgtGD0YXQsNC90LjQtTog0Y3RhNGE0LXQutGCINC90LAg0LrRgNCw0Y/RhSDQuCDQt9Cw0YLRg9GF0LDQtdGCINC6INGG0LXQvdGC0YDRg1xcbiAgZmxvYXQgZmFkZSA9IHNtb290aHN0ZXAoMC41IC0gdUZhZGVTdHJlbmd0aCwgMC41ICsgdUZhZGVTdHJlbmd0aCwgYWJzKHV2LnkgLSAwLjUpICogMi4wKTtcXG5cXG4gIFxcblxcbiAgZm9yICggaW50IGkgPSAwOyBpIDwgTE9PUDsgaSArKyApIHtcXG4gICAgZmxvYXQgc2xpZGUgPSBmbG9hdChpKSAvIGZsb2F0KExPT1ApICogMC4xO1xcblxcbiAgICB2ZWMzIHJlZnJhY3RWZWNSID0gcmVmcmFjdChleWVWZWN0b3IsIG5vcm1hbCwgKDEuMC91SW9yUikpO1xcbiAgICB2ZWMzIHJlZnJhY3RWZWNZID0gcmVmcmFjdChleWVWZWN0b3IsIG5vcm1hbCwgKDEuMC91SW9yWSkpO1xcbiAgICB2ZWMzIHJlZnJhY3RWZWNHID0gcmVmcmFjdChleWVWZWN0b3IsIG5vcm1hbCwgKDEuMC91SW9yRykpO1xcbiAgICB2ZWMzIHJlZnJhY3RWZWNDID0gcmVmcmFjdChleWVWZWN0b3IsIG5vcm1hbCwgKDEuMC91SW9yQykpO1xcbiAgICB2ZWMzIHJlZnJhY3RWZWNCID0gcmVmcmFjdChleWVWZWN0b3IsIG5vcm1hbCwgKDEuMC91SW9yQikpO1xcbiAgICB2ZWMzIHJlZnJhY3RWZWNQID0gcmVmcmFjdChleWVWZWN0b3IsIG5vcm1hbCwgKDEuMC91SW9yUCkpO1xcblxcbiAgICBmbG9hdCByID0gdGV4dHVyZTJEKHVUZXh0dXJlLCB1diArIHJlZnJhY3RWZWNSLnh5ICogKHVSZWZyYWN0UG93ZXIgKyBzbGlkZSAqIDEuMCkgKiB1Q2hyb21hdGljQWJlcnJhdGlvbikueCAqIDAuNTtcXG5cXG4gICAgZmxvYXQgeSA9ICh0ZXh0dXJlMkQodVRleHR1cmUsIHV2ICsgcmVmcmFjdFZlY1kueHkgKiAodVJlZnJhY3RQb3dlciArIHNsaWRlICogMS4wKSAqIHVDaHJvbWF0aWNBYmVycmF0aW9uKS54ICogMi4wICtcXG4gICAgICAgICAgICAgICAgdGV4dHVyZTJEKHVUZXh0dXJlLCB1diArIHJlZnJhY3RWZWNZLnh5ICogKHVSZWZyYWN0UG93ZXIgKyBzbGlkZSAqIDEuMCkgKiB1Q2hyb21hdGljQWJlcnJhdGlvbikueSAqIDIuMCAtXFxuICAgICAgICAgICAgICAgIHRleHR1cmUyRCh1VGV4dHVyZSwgdXYgKyByZWZyYWN0VmVjWS54eSAqICh1UmVmcmFjdFBvd2VyICsgc2xpZGUgKiAxLjApICogdUNocm9tYXRpY0FiZXJyYXRpb24pLnopIC8gNi4wO1xcblxcbiAgICBmbG9hdCBnID0gdGV4dHVyZTJEKHVUZXh0dXJlLCB1diArIHJlZnJhY3RWZWNHLnh5ICogKHVSZWZyYWN0UG93ZXIgKyBzbGlkZSAqIDIuMCkgKiB1Q2hyb21hdGljQWJlcnJhdGlvbikueSAqIDAuNTtcXG5cXG4gICAgZmxvYXQgYyA9ICh0ZXh0dXJlMkQodVRleHR1cmUsIHV2ICsgcmVmcmFjdFZlY0MueHkgKiAodVJlZnJhY3RQb3dlciArIHNsaWRlICogMi41KSAqIHVDaHJvbWF0aWNBYmVycmF0aW9uKS55ICogMi4wICtcXG4gICAgICAgICAgICAgICAgdGV4dHVyZTJEKHVUZXh0dXJlLCB1diArIHJlZnJhY3RWZWNDLnh5ICogKHVSZWZyYWN0UG93ZXIgKyBzbGlkZSAqIDIuNSkgKiB1Q2hyb21hdGljQWJlcnJhdGlvbikueiAqIDIuMCAtXFxuICAgICAgICAgICAgICAgIHRleHR1cmUyRCh1VGV4dHVyZSwgdXYgKyByZWZyYWN0VmVjQy54eSAqICh1UmVmcmFjdFBvd2VyICsgc2xpZGUgKiAyLjUpICogdUNocm9tYXRpY0FiZXJyYXRpb24pLngpIC8gNi4wO1xcbiAgICAgICAgICBcXG4gICAgZmxvYXQgYiA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdXYgKyByZWZyYWN0VmVjQi54eSAqICh1UmVmcmFjdFBvd2VyICsgc2xpZGUgKiAzLjApICogdUNocm9tYXRpY0FiZXJyYXRpb24pLnogKiAwLjU7XFxuXFxuICAgIGZsb2F0IHAgPSAodGV4dHVyZTJEKHVUZXh0dXJlLCB1diArIHJlZnJhY3RWZWNQLnh5ICogKHVSZWZyYWN0UG93ZXIgKyBzbGlkZSAqIDEuMCkgKiB1Q2hyb21hdGljQWJlcnJhdGlvbikueiAqIDIuMCArXFxuICAgICAgICAgICAgICAgIHRleHR1cmUyRCh1VGV4dHVyZSwgdXYgKyByZWZyYWN0VmVjUC54eSAqICh1UmVmcmFjdFBvd2VyICsgc2xpZGUgKiAxLjApICogdUNocm9tYXRpY0FiZXJyYXRpb24pLnggKiAyLjAgLVxcbiAgICAgICAgICAgICAgICB0ZXh0dXJlMkQodVRleHR1cmUsIHV2ICsgcmVmcmFjdFZlY1AueHkgKiAodVJlZnJhY3RQb3dlciArIHNsaWRlICogMS4wKSAqIHVDaHJvbWF0aWNBYmVycmF0aW9uKS55KSAvIDYuMDtcXG5cXG4gICAgZmxvYXQgUiA9IHIgKyAoMi4wKnAgKyAyLjAqeSAtIGMpLzMuMDtcXG4gICAgZmxvYXQgRyA9IGcgKyAoMi4wKnkgKyAyLjAqYyAtIHApLzMuMDtcXG4gICAgZmxvYXQgQiA9IGIgKyAoMi4wKmMgKyAyLjAqcCAtIHkpLzMuMDtcXG5cXG4gICAgY29sb3IuciArPSBSO1xcbiAgICBjb2xvci5nICs9IEc7XFxuICAgIGNvbG9yLmIgKz0gQjtcXG5cXG4gICAgY29sb3IgPSBzYXQoY29sb3IsIHVTYXR1cmF0aW9uKTtcXG4gIH1cXG5cXG4gIGNvbG9yIC89IGZsb2F0KCBMT09QICk7XFxuXFxuICBmbG9hdCBzcGVjdWxhckxpZ2h0ID0gc3BlY3VsYXIodUxpZ2h0LCB1U2hpbmluZXNzLCB1RGlmZnVzZW5lc3MpO1xcbiAgY29sb3IgKz0gc3BlY3VsYXJMaWdodDtcXG5cXG4gIGNvbG9yID0gbWl4KHZlYzMoMS4wKSwgY29sb3IsIDEuKTsgLy8g0J/RgNC40LzQtdC90Y/QtdC8INCz0YDQsNC00LjQtdC90YLQvdC+0LUg0LfQsNGC0YPRhdCw0L3QuNC1XFxuXFxuICBnbF9GcmFnQ29sb3IgPSB2ZWM0KGNvbG9yLCAxLjApO1xcbn1cXG5cIjsiLCJpbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tICdldmVudHMnO1xuaW1wb3J0IFByZWxvYWRlciBmcm9tICcuL1ByZWxvYWRlci5qcyc7XG5cbmltcG9ydCB7IFBlcnNwZWN0aXZlQ2FtZXJhLCBXZWJHTFJlbmRlcmVyLCBTY2VuZSwgUGxhbmVHZW9tZXRyeSwgVmVjdG9yMywgVmVjdG9yMiB9IGZyb20gJ3RocmVlJ1xuaW1wb3J0IE5vcm1hbGl6ZVdoZWVsIGZyb20gJ25vcm1hbGl6ZS13aGVlbCdcbmltcG9ydCBNZWRpYSBmcm9tICcuL01lZGlhJ1xuaW1wb3J0IHsgbGVycCB9IGZyb20gJy4vdXRpbHMvbWF0aCdcblxuaW1wb3J0IHsgRWZmZWN0Q29tcG9zZXIgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvRWZmZWN0Q29tcG9zZXInO1xuaW1wb3J0IHsgUmVuZGVyUGFzcyB9IGZyb20gJ3RocmVlL2V4YW1wbGVzL2pzbS9wb3N0cHJvY2Vzc2luZy9SZW5kZXJQYXNzJztcbmltcG9ydCB7IFNoYWRlclBhc3MgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvU2hhZGVyUGFzcyc7XG5pbXBvcnQgdmVydGV4U2hhZGVyIGZyb20gJy4uL3N0YXRpYy9zaGFkZXJzL3ZlcnRleFBvc3QuZ2xzbCc7XG5pbXBvcnQgZnJhZ21lbnRTaGFkZXIgZnJvbSAnLi4vc3RhdGljL3NoYWRlcnMvZnJhZ21lbnRQb3N0Lmdsc2wnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcHAgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICBzdGF0aWMgaW5zdGFuY2VcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHN1cGVyKCk7XG4gICAgaWYoQXBwLmluc3RhbmNlKSB7XG4gICAgICByZXR1cm4gQXBwLmluc3RhbmNlO1xuICAgIH1cbiAgICBBcHAuaW5zdGFuY2UgPSB0aGlzO1xuICAgIHRoaXMuc2Nyb2xsID0ge1xuICAgICAgZWFzZTogMC4wNSxcbiAgICAgIGN1cnJlbnQ6IDAsXG4gICAgICB0YXJnZXQ6IDAsXG4gICAgICBsYXN0OiAwXG4gICAgfVxuICAgIHRoaXMuc3BlZWQgPSAyXG4gICAgdGhpcy5jb250YWluZXIgPSBvcHRpb25zLmRvbVxuICAgIFxuICAgIHRoaXMuY3JlYXRlUmVuZGVyZXIoKVxuICAgIHRoaXMuY3JlYXRlQ2FtZXJhKClcbiAgICB0aGlzLmNyZWF0ZVNjZW5lKClcbiAgICB0aGlzLmNyZWF0ZUdlb21ldHJ5KClcbiAgICB0aGlzLmNyZWF0ZUdhbGxlcnkoKVxuICAgIFxuICAgIHRoaXMub25SZXNpemUoKVxuICAgIHRoaXMuY3JlYXRlUG9zdFByb2Nlc3NpbmcoKTtcbiAgICB0aGlzLmNyZWF0ZU1lZGlhcygpXG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVycygpXG4gICAgXG4gICAgLy8gdGhpcy5wcmVsb2FkZXIgPSBuZXcgUHJlbG9hZGVyKClcbiAgICAvLyB0aGlzLmVtaXQoXCJhc3NldHNyZWFkeVwiKTtcbiAgICB0aGlzLnVwZGF0ZSgpXG4gIH1cblxuICBjcmVhdGVSZW5kZXJlcigpIHtcbiAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFdlYkdMUmVuZGVyZXIoe1xuICAgICAgYW50aWFsaWFzOiB0cnVlLFxuICAgICAgYWxwaGE6IHRydWUsXG4gICAgICBjYW52YXM6IHRoaXMuY29udGFpbmVyXG4gICAgfSlcbiAgICB0aGlzLnJlbmRlcmVyLnNldENsZWFyQ29sb3IoMHhlZWVlZWUsIDEpOyBcbiAgICAvLyB0aGlzLnJlbmRlcmVyLnNldENsZWFyQ29sb3IoMHgwZjBmMGYsIDEpOyBcblxuICAgIGlmICghdGhpcy5jb250YWluZXIuY29udGFpbnModGhpcy5yZW5kZXJlci5kb21FbGVtZW50KSkge1xuICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICBjcmVhdGVDYW1lcmEoKSB7XG4gICAgdGhpcy5jYW1lcmEgPSBuZXcgUGVyc3BlY3RpdmVDYW1lcmEoXG4gICAgICA0NSxcbiAgICAgIHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0LFxuICAgICAgMC4wMDEsXG4gICAgICAxMDAwXG4gICAgKVxuICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnogPSA1XG4gIH1cblxuICBjcmVhdGVTY2VuZSgpIHtcbiAgICB0aGlzLnNjZW5lID0gbmV3IFNjZW5lKClcbiAgfVxuXG4gIGNyZWF0ZUdlb21ldHJ5KCkge1xuICAgIHRoaXMucGxhbmVHZW9tZXRyeSA9IG5ldyBQbGFuZUdlb21ldHJ5KDEsIDEsIDMyLCAzMik7XG4gIH1cblxuICBjcmVhdGVNZWRpYXMoKSB7XG4gICAgdGhpcy5tZWRpYXNFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kZW1vLTFfX2dhbGxlcnlfX2ZpZ3VyZScpO1xuXG4gICAgdGhpcy5tZWRpYXMgPSBBcnJheS5mcm9tKHRoaXMubWVkaWFzRWxlbWVudHMpLm1hcChlbGVtZW50ID0+IHtcbiAgICAgIFxuICAgICAgbGV0IG1lZGlhID0gbmV3IE1lZGlhKHtcbiAgICAgICAgZWxlbWVudCwgXG4gICAgICAgIGdlb21ldHJ5OiB0aGlzLnBsYW5lR2VvbWV0cnksXG4gICAgICAgIHJlbmRlcmVyOiB0aGlzLnJlbmRlcmVyLFxuICAgICAgICBoZWlnaHQ6IHRoaXMuZ2FsbGVyeUhlaWdodCxcbiAgICAgICAgc2NlbmU6IHRoaXMuc2NlbmUsXG4gICAgICAgIHNjcmVlbjogdGhpcy5zY3JlZW4sXG4gICAgICAgIHZpZXdwb3J0OiB0aGlzLnZpZXdwb3J0XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgcmV0dXJuIG1lZGlhO1xuICAgIH0pXG4gIH1cblxuICBjcmVhdGVHYWxsZXJ5ICgpIHtcbiAgICB0aGlzLmdhbGxlcnkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZGVtby0xX19nYWxsZXJ5JylcbiAgfVxuXG4gIGNyZWF0ZVBvc3RQcm9jZXNzaW5nKCkge1xuICAgIHRoaXMuY29tcG9zZXIgPSBuZXcgRWZmZWN0Q29tcG9zZXIodGhpcy5yZW5kZXJlcik7XG4gICAgdGhpcy5yZW5kZXJTY2VuZSA9IG5ldyBSZW5kZXJQYXNzKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKTtcbiAgICB0aGlzLmNvbXBvc2VyLmFkZFBhc3ModGhpcy5yZW5kZXJTY2VuZSk7XG4gIFxuICAgIHRoaXMuY3VzdG9tU2hhZGVyUGFzcyA9IG5ldyBTaGFkZXJQYXNzKHtcbiAgICAgIHVuaWZvcm1zOiB7XG4gICAgICAgIHVJb3JSOiB7IHZhbHVlOiAxLjAgfSxcbiAgICAgICAgdUlvclk6IHsgdmFsdWU6IDEuMCB9LFxuICAgICAgICB1SW9yRzogeyB2YWx1ZTogMS4wIH0sXG4gICAgICAgIHVJb3JDOiB7IHZhbHVlOiAxLjAgfSxcbiAgICAgICAgdUlvckI6IHsgdmFsdWU6IDEuMCB9LFxuICAgICAgICB1SW9yUDogeyB2YWx1ZTogMS4wIH0sXG4gICAgICAgIHVTYXR1cmF0aW9uOiB7IHZhbHVlOiAxLjAgfSxcbiAgICAgICAgdUNocm9tYXRpY0FiZXJyYXRpb246IHsgdmFsdWU6IDAuMDYgfSxcbiAgICAgICAgdVJlZnJhY3RQb3dlcjogeyB2YWx1ZTogMC4wNiB9LFxuICAgICAgICB1U2hpbmluZXNzOiB7IHZhbHVlOiAzMC4wIH0sXG4gICAgICAgIHVEaWZmdXNlbmVzczogeyB2YWx1ZTogMS4wIH0sXG4gICAgICAgIHVMaWdodDogeyB2YWx1ZTogbmV3IFZlY3RvcjMoMS4wLCAxLjAsIDEuMCkgfSxcbiAgICAgICAgd2luUmVzb2x1dGlvbjogeyB2YWx1ZTogbmV3IFZlY3RvcjIod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCkgfSxcbiAgICAgICAgdVRleHR1cmU6IHsgdmFsdWU6IG51bGwgfSxcbiAgICAgICAgdUZhZGVTdHJlbmd0aDogeyB2YWx1ZTogMC45IH0gXG4gICAgICAgIH0sXG4gICAgICB2ZXJ0ZXhTaGFkZXIsXG4gICAgICBmcmFnbWVudFNoYWRlclxuICAgIH0pO1xuXG4gICAgdGhpcy5jdXN0b21TaGFkZXJQYXNzLnVuaWZvcm1zLnVUZXh0dXJlLnZhbHVlID0gdGhpcy5jb21wb3Nlci5yZWFkQnVmZmVyLnRleHR1cmU7XG4gICAgdGhpcy5jb21wb3Nlci5hZGRQYXNzKHRoaXMuY3VzdG9tU2hhZGVyUGFzcyk7XG4gIH1cblxuICBvbldoZWVsKGV2ZW50KSB7XG4gICAgY29uc3Qgbm9ybWFsaXplZCA9IE5vcm1hbGl6ZVdoZWVsKGV2ZW50KVxuICAgIGNvbnN0IHNwZWVkID0gbm9ybWFsaXplZC5waXhlbFlcblxuICAgIHRoaXMuc2Nyb2xsLnRhcmdldCArPSBzcGVlZCAqIDAuNVxuICB9XG5cbiAgb25Ub3VjaERvd24oZXZlbnQpIHtcbiAgICB0aGlzLmlzRG93biA9IHRydWVcblxuICAgIHRoaXMuc2Nyb2xsLnBvc2l0aW9uID0gdGhpcy5zY3JvbGwuY3VycmVudFxuICAgIHRoaXMuc3RhcnQgPSBldmVudC50b3VjaGVzID8gZXZlbnQudG91Y2hlc1swXS5jbGllbnRZIDogZXZlbnQuY2xpZW50WVxuICB9XG5cbiAgb25Ub3VjaE1vdmUoZXZlbnQpIHtcbiAgICBpZiAoIXRoaXMuaXNEb3duKSByZXR1cm5cblxuICAgIGNvbnN0IHkgPSBldmVudC50b3VjaGVzID8gZXZlbnQudG91Y2hlc1swXS5jbGllbnRZIDogZXZlbnQuY2xpZW50WVxuICAgIGNvbnN0IGRpc3RhbmNlID0gKHRoaXMuc3RhcnQgLSB5KSAqIDJcblxuICAgIHRoaXMuc2Nyb2xsLnRhcmdldCA9IHRoaXMuc2Nyb2xsLnBvc2l0aW9uICsgZGlzdGFuY2VcbiAgfVxuXG4gIG9uVG91Y2hVcChldmVudCkge1xuICAgIHRoaXMuaXNEb3duID0gZmFsc2VcbiAgfVxuXG4gIG9uUmVzaXplKCkge1xuICAgIHRoaXMuc2NyZWVuID0ge1xuICAgICAgaGVpZ2h0OiB3aW5kb3cuaW5uZXJIZWlnaHQsXG4gICAgICB3aWR0aDogd2luZG93LmlubmVyV2lkdGhcbiAgICB9XG5cbiAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUodGhpcy5zY3JlZW4ud2lkdGgsIHRoaXMuc2NyZWVuLmhlaWdodCk7XG5cbiAgICB0aGlzLmNhbWVyYS5hc3BlY3QgPSB0aGlzLnNjcmVlbi53aWR0aCAvIHRoaXMuc2NyZWVuLmhlaWdodDtcbiAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG5cbiAgICBjb25zdCBmb3YgPSB0aGlzLmNhbWVyYS5mb3YgKiAoTWF0aC5QSSAvIDE4MCk7XG4gICAgY29uc3QgaGVpZ2h0ID0gMiAqIE1hdGgudGFuKGZvdiAvIDIpICogdGhpcy5jYW1lcmEucG9zaXRpb24uelxuICAgIGNvbnN0IHdpZHRoID0gaGVpZ2h0ICogdGhpcy5jYW1lcmEuYXNwZWN0O1xuXG4gICAgdGhpcy52aWV3cG9ydCA9IHtcbiAgICAgIGhlaWdodCxcbiAgICAgIHdpZHRoXG4gICAgfVxuXG4gICAgdGhpcy5nYWxsZXJ5Qm91bmRzID0gdGhpcy5nYWxsZXJ5LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgdGhpcy5nYWxsZXJ5SGVpZ2h0ID0gdGhpcy52aWV3cG9ydC5oZWlnaHQgKiB0aGlzLmdhbGxlcnlCb3VuZHMuaGVpZ2h0IC8gdGhpcy5zY3JlZW4uaGVpZ2h0XG5cbiAgICBpZih0aGlzLm1lZGlhcykge1xuICAgICAgdGhpcy5tZWRpYXMuZm9yRWFjaChtZWRpYSA9PiBtZWRpYS5vblJlc2l6ZSh7XG4gICAgICAgIGhlaWdodDogdGhpcy5nYWxsZXJ5SGVpZ2h0LFxuICAgICAgICBzY3JlZW46IHRoaXMuc2NyZWVuLFxuICAgICAgICB2aWV3cG9ydDogdGhpcy52aWV3cG9ydFxuICAgICAgfSkpXG4gICAgfVxuXG4gIH1cblxuICB1cGRhdGUoKSB7XG4gICAgdGhpcy5zY3JvbGwudGFyZ2V0ICs9IHRoaXMuc3BlZWRcbiAgICB0aGlzLnNjcm9sbC5jdXJyZW50ID0gbGVycCh0aGlzLnNjcm9sbC5jdXJyZW50LCB0aGlzLnNjcm9sbC50YXJnZXQsIHRoaXMuc2Nyb2xsLmVhc2UpXG5cbiAgICBpZiAodGhpcy5zY3JvbGwuY3VycmVudCA+IHRoaXMuc2Nyb2xsLmxhc3QpIHtcbiAgICAgIHRoaXMuZGlyZWN0aW9uID0gJ2Rvd24nXG4gICAgICB0aGlzLnNwZWVkID0gMlxuICAgIH0gZWxzZSBpZiAodGhpcy5zY3JvbGwuY3VycmVudCA8IHRoaXMuc2Nyb2xsLmxhc3QpIHtcbiAgICAgIHRoaXMuZGlyZWN0aW9uID0gJ3VwJ1xuICAgICAgdGhpcy5zcGVlZCA9IC0yXG4gICAgfVxuXG4gICAgaWYodGhpcy5tZWRpYXMpIHtcbiAgICAgIHRoaXMubWVkaWFzLmZvckVhY2gobWVkaWEgPT4gbWVkaWEudXBkYXRlKHRoaXMuc2Nyb2xsLCB0aGlzLmRpcmVjdGlvbikpXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY3VzdG9tU2hhZGVyUGFzcyAmJiB0aGlzLmN1c3RvbVNoYWRlclBhc3MudW5pZm9ybXMpIHtcbiAgICAgIHRoaXMuY3VzdG9tU2hhZGVyUGFzcy51bmlmb3Jtcy51VGV4dHVyZS52YWx1ZSA9IHRoaXMuY29tcG9zZXIucmVhZEJ1ZmZlci50ZXh0dXJlO1xuICAgICAgdGhpcy5jdXN0b21TaGFkZXJQYXNzLnVuaWZvcm1zLnVDaHJvbWF0aWNBYmVycmF0aW9uLnZhbHVlID0gTWF0aC5hYnModGhpcy5zY3JvbGwuY3VycmVudCAtIHRoaXMuc2Nyb2xsLmxhc3QpICogMC4wMTtcbiAgICB9XG4gICAgdGhpcy5jb21wb3Nlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xuXG4gICAgdGhpcy5zY3JvbGwubGFzdCA9IHRoaXMuc2Nyb2xsLmN1cnJlbnQ7XG5cbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMudXBkYXRlLmJpbmQodGhpcykpXG4gIH1cblxuICBhZGRFdmVudExpc3RlbmVycygpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpKVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd3aGVlbCcsIHRoaXMub25XaGVlbC5iaW5kKHRoaXMpKVxuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25Ub3VjaERvd24uYmluZCh0aGlzKSlcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5vblRvdWNoTW92ZS5iaW5kKHRoaXMpKVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5vblRvdWNoVXAuYmluZCh0aGlzKSlcbiAgICBcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMub25Ub3VjaERvd24uYmluZCh0aGlzKSlcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5vblRvdWNoTW92ZS5iaW5kKHRoaXMpKVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMub25Ub3VjaFVwLmJpbmQodGhpcykpXG4gIH1cbn1cbiIsIlxuXG5pbXBvcnQgJy4uL3Nhc3Mvc3R5bGUuc2Nzcyc7XG5pbXBvcnQgQXBwIGZyb20gJy4vQXBwJ1xuLy8gaW1wb3J0ICcuL2FuYWx5dGljcyc7XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuIFxuICBuZXcgQXBwKHsgZG9tOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdjYW52YXMuZXhwZXJpZW5jZS1jYW52YXMnKSB9KVxuXG4gIGNvbnN0IGZpeGVkSGVhZGVyID0gKCkgPT4ge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCAoKSA9PiB7XG4gICAgICBjb25zdCBzY3JvbGwgPSB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXItZml4ZWQnKS5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnLCBzY3JvbGwgPj0gNzAwKTtcbiAgICB9KTtcbiAgfTtcblxuXG5cbiAgY29uc3Qgc2V0dXBNZWRpYVF1ZXJpZXMgPSAoKSA9PiB7XG4gICAgY29uc3QgbW0gPSBnc2FwLm1hdGNoTWVkaWEoKTtcbiAgICBjb25zdCBicmVha1BvaW50ID0gOTkxO1xuXG4gICAgbW0uYWRkKHtcbiAgICAgIGlzTW9iaWxlOiBgKG1heC13aWR0aDogJHticmVha1BvaW50fXB4KWAsXG4gICAgICBpc0Rlc2t0b3A6IGAobWluLXdpZHRoOiAke2JyZWFrUG9pbnQgKyAxfXB4KWBcbiAgICB9LCAoY29udGV4dCkgPT4ge1xuICAgICAgY29uc3QgeyBpc01vYmlsZSwgaXNEZXNrdG9wIH0gPSBjb250ZXh0LmNvbmRpdGlvbnM7XG5cbiAgICAgIGlmIChpc0Rlc2t0b3ApIHNldHVwRGVza3RvcEZlYXR1cmVzKCk7XG4gICAgICBpZiAoaXNNb2JpbGUpIHNldHVwTW9iaWxlRmVhdHVyZXMoKTtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBzZXR1cERlc2t0b3BGZWF0dXJlcyA9ICgpID0+IHtcbiAgICAvLyBjb25zdCBzbW9vdGhlciA9IFNjcm9sbFNtb290aGVyLmNyZWF0ZSh7XG4gICAgLy8gICB3cmFwcGVyOiBcIiNzbW9vdGgtd3JhcHBlclwiLFxuICAgIC8vICAgY29udGVudDogXCIjc21vb3RoLWNvbnRlbnRcIixcbiAgICAvLyAgIHNtb290aDogMyxcbiAgICAvLyAgIHNtb290aFRvdWNoOiAxLjUsXG4gICAgLy8gICBpZ25vcmVNb2JpbGVSZXNpemU6IHRydWUsXG4gICAgLy8gICB0b3VjaFNjcm9sbFR5cGU6IFwibm9ybWFsXCIsXG4gICAgLy8gICBlZmZlY3RzOiB0cnVlLFxuICAgIC8vICAgbm9ybWFsaXplU2Nyb2xsOiB0cnVlXG4gICAgLy8gfSk7XG5cblxuXG5cbiAgfTtcblxuICBjb25zdCBzZXR1cE1vYmlsZUZlYXR1cmVzID0gKCkgPT4ge1xuXG4gIH07XG5cblxuXG4gIGNvbnN0IHVwZGF0ZVllYXIgPSAoKSA9PiB7XG4gICAgY29uc3QgeWVhck5vZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcueWVhcicpO1xuICAgIHllYXJOb2RlLmlubmVySFRNTCA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKTtcbiAgfTtcblxuICAvLyBmaXhlZEhlYWRlcigpO1xuICBzZXR1cE1lZGlhUXVlcmllcygpO1xuICAvLyB1cGRhdGVZZWFyKCk7XG5cbn0pO1xuXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///877\n")}},__webpack_module_cache__={},deferred;function __webpack_require__(e){var n=__webpack_module_cache__[e];if(void 0!==n)return n.exports;var c=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](c,c.exports,__webpack_require__),c.exports}__webpack_require__.m=__webpack_modules__,deferred=[],__webpack_require__.O=(e,n,c,t)=>{if(!n){var g=1/0;for(a=0;a<deferred.length;a++){for(var[n,c,t]=deferred[a],l=!0,i=0;i<n.length;i++)(!1&t||g>=t)&&Object.keys(__webpack_require__.O).every((e=>__webpack_require__.O[e](n[i])))?n.splice(i--,1):(l=!1,t<g&&(g=t));if(l){deferred.splice(a--,1);var I=c();void 0!==I&&(e=I)}}return e}t=t||0;for(var a=deferred.length;a>0&&deferred[a-1][2]>t;a--)deferred[a]=deferred[a-1];deferred[a]=[n,c,t]},__webpack_require__.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(n,{a:n}),n},__webpack_require__.d=(e,n)=>{for(var c in n)__webpack_require__.o(n,c)&&!__webpack_require__.o(e,c)&&Object.defineProperty(e,c,{enumerable:!0,get:n[c]})},__webpack_require__.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={179:0};__webpack_require__.O.j=n=>0===e[n];var n=(n,c)=>{var t,g,[l,i,I]=c,a=0;if(l.some((n=>0!==e[n]))){for(t in i)__webpack_require__.o(i,t)&&(__webpack_require__.m[t]=i[t]);if(I)var d=I(__webpack_require__)}for(n&&n(c);a<l.length;a++)g=l[a],__webpack_require__.o(e,g)&&e[g]&&e[g][0](),e[g]=0;return __webpack_require__.O(d)},c=self.webpackChunk=self.webpackChunk||[];c.forEach(n.bind(null,0)),c.push=n.bind(null,c.push.bind(c))})();var __webpack_exports__=__webpack_require__.O(void 0,[284],(()=>__webpack_require__(877)));return __webpack_exports__=__webpack_require__.O(__webpack_exports__),__webpack_exports__})()));